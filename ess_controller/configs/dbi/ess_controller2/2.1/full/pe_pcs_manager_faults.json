{
    "/config/load": {
        "pe_pcs_manager_faults": {
            "value": false,
            "file": "pe_pcs_manager_faults",
            "aname": "pcs",
            "pname": "ess",
            "new_options": [
                {
                    "tmpl": "pe_pcs_module_faults",
                    "pname": "pcs",
                    "type": "ai", 
                    "ainame": "##PCS_ID##",
                    "from": 1,
                    "to": 6,
                    "reps": [
                        {"replace":"##PCS_ID##",   "with":"module_{:01d}"},
                        {"replace":"##PCS_NUM##",  "with":"{:01d}"}
                    ]
                }
            ]
        }
    },
    "/components/pcs_registers_fast": {
        "current_fault": {
            "value": 0,
            "actions": {
                "onSet": [{
                    "enum": [
                        {"shift": 0, "mask": 65535, "inValue": 0, "uri": "/faults/pcs:sys_fault", "outValue": "(NOFLTS) No faults"},
                        {"shift": 0, "mask": 65535, "inValue": 1, "uri": "/faults/pcs:sys_fault", "outValue": "(WD) Watchdog - Fault in DSP has occurred"},
                        {"shift": 0, "mask": 65535, "inValue": 2, "uri": "/faults/pcs:sys_fault", "outValue": "(HWVBS) HW Vbus - DC overvoltage detected. Threshold: 1520 Vdc"},
                        {"shift": 0, "mask": 65535, "inValue": 3, "uri": "/faults/pcs:sys_fault", "outValue": "(SFTCHR) Softcharge - Wrong configuration (central AC without DU) OR Timeout, one of soft charge processes did not end successfully"},
                        {"shift": 0, "mask": 65535, "inValue": 4, "uri": "/faults/pcs:sys_fault", "outValue": "(DISCHR) Discharge - Timeout, one of the modules has not discharged correctly (< 50 Vdc)"},
                        {"shift": 0, "mask": 65535, "inValue": 5, "uri": "/faults/pcs:sys_fault", "outValue": "(HGHVAC) High Vac - High AC voltage fault"},
                        {"shift": 0, "mask": 65535, "inValue": 6, "uri": "/faults/pcs:sys_fault", "outValue": "(LWVAC) Low Vac - Low AC voltage fault"},
                        {"shift": 0, "mask": 65535, "inValue": 7, "uri": "/faults/pcs:sys_fault", "outValue": "(HGHFRE) High frequency fault"},
                        {"shift": 0, "mask": 65535, "inValue": 8, "uri": "/faults/pcs:sys_fault", "outValue": "(LWFRE) Low frequency fault"},
                        {"shift": 0, "mask": 65535, "inValue": 9, "uri": "/faults/pcs:sys_fault", "outValue": "(FPGACMS) FPGA comms - 2 frames to the central FPGA are wrong"},
                        {"shift": 0, "mask": 65535, "inValue": 10, "uri": "/faults/pcs:sys_fault", "outValue": "(MSTFPGA) Master FPGA - Central FPGA has not been configured correctly. Check that the 3 joined leds are turned on"},
                        {"shift": 0, "mask": 65535, "inValue": 11, "uri": "/faults/pcs:sys_fault", "outValue": "(ACANTISL) Active anti-island - Fault produced by a variation in the measured frequency"},
                        {"shift": 0, "mask": 65535, "inValue": 13, "uri": "/faults/pcs:sys_fault", "outValue": "(NOMOD) No modules enabled in the enabled busbars"},
                        {"shift": 0, "mask": 65535, "inValue": 14, "uri": "/faults/pcs:sys_fault", "outValue": "(DRVSLT_1) Drive select - Wrong drive select configuration"},
                        {"shift": 0, "mask": 65535, "inValue": 15, "uri": "/faults/pcs:sys_fault", "outValue": "(SYNC) Synchronization - Wrong equipment configuration"},
                        {"shift": 0, "mask": 65535, "inValue": 16, "uri": "/faults/pcs:sys_fault", "outValue": "(DCMSW) DC miswired - There is a problem with the DC measurement from central control. It occurs when the bus voltage < 100V during 30s"},
                        {"shift": 0, "mask": 65535, "inValue": 17, "uri": "/faults/pcs:sys_fault", "outValue": "(DUFB) DU feedback - The DU is not closing when required"},
                        {"shift": 0, "mask": 65535, "inValue": 18, "uri": "/faults/pcs:sys_fault", "outValue": "(ACSCFB) ACSC feedback - Feedback from the soft charge contactor does not match the order during 5s"},
                        {"shift": 0, "mask": 65535, "inValue": 19, "uri": "/faults/pcs:sys_fault", "outValue": "(ACSCNV) ACSC no voltage - The central soft charge contactor is closed, but buses are not changing at the expected rate (50% of the target value in 4s)"},
                        {"shift": 0, "mask": 65535, "inValue": 20, "uri": "/faults/pcs:sys_fault", "outValue": "(MODFLT) Module fault"},
                        {"shift": 0, "mask": 65535, "inValue": 21, "uri": "/faults/pcs:sys_fault", "outValue": "(DUSTCK) DU stuck - Voltage during soft charge process is anomalous when the DU is open"},
                        {"shift": 0, "mask": 65535, "inValue": 22, "uri": "/faults/pcs:sys_fault", "outValue": "(MVF) Medium V fuse - A medium voltage fuse has been blown"},
                        {"shift": 0, "mask": 65535, "inValue": 23, "uri": "/faults/pcs:sys_fault", "outValue": "(UNBVAC) Unbalanced Vac - Abnormal AC unbalanced voltage"},
                        {"shift": 0, "mask": 65535, "inValue": 24, "uri": "/faults/pcs:sys_fault", "outValue": "(HVDC_F) High Vdc - Overvoltage in the DC bus"},
                        {"shift": 0, "mask": 65535, "inValue": 25, "uri": "/faults/pcs:sys_fault", "outValue": "(LVDC_F) Low Vdc - Voltage is too low"},
                        {"shift": 0, "mask": 65535, "inValue": 27, "uri": "/faults/pcs:sys_fault", "outValue": "(MSF) Modules start fault"},
                        {"shift": 0, "mask": 65535, "inValue": 28, "uri": "/faults/pcs:sys_fault", "outValue": "(PSANTISL) Passive anti-island - Fault produced when the frequency changes abruptly in a certain time"},
                        {"shift": 0, "mask": 65535, "inValue": 29, "uri": "/faults/pcs:sys_fault", "outValue": "(HWIDCDIF) HW Idc Dif - A current derivation has been detected on the panels side"},
                        {"shift": 0, "mask": 65535, "inValue": 30, "uri": "/faults/pcs:sys_fault", "outValue": "(MVCMS) MV comms - Failure in communication with the medium voltage measure board"},
                        {"shift": 0, "mask": 65535, "inValue": 31, "uri": "/faults/pcs:sys_fault", "outValue": "(DIAGTIM) Selfdiagnosis Fault - Triggered while performing auto diagnosis process, e.g.: there is no DU or the bus loading time is excessive"},
                        {"shift": 0, "mask": 65535, "inValue": 32, "uri": "/faults/pcs:sys_fault", "outValue": "(ERMDDIAG) Error Mod Selfdiagnosis - Triggered while performing auto diagnosis process after the equipment has stopped due to special protection"},
                        {"shift": 0, "mask": 65535, "inValue": 33, "uri": "/faults/pcs:sys_fault", "outValue": "(UNREC) Unable Reconnect - Inverter could not restart after the last grid event"},
                        {"shift": 0, "mask": 65535, "inValue": 34, "uri": "/faults/pcs:sys_fault", "outValue": "(HOMDIFLV) Hom Diff LV - A zero-sequence current (earth leakage) has been detected on the low voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 35, "uri": "/faults/pcs:sys_fault", "outValue": "(MVPRE) MV Premag - There was a problem during MV transformer premagnetization"},
                        {"shift": 0, "mask": 65535, "inValue": 36, "uri": "/faults/pcs:sys_fault", "outValue": "(OVOLIRLV) Ovc Inrush LV - One of the current thresholds (overload, overcurrent, or inrush) has been overcome in the low voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 37, "uri": "/faults/pcs:sys_fault", "outValue": "(OVOLIRMV) Ovc Inrush MV - One of the current thresholds (overload, overcurrent, or inrush) has been overcome in the medium voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 38, "uri": "/faults/pcs:sys_fault", "outValue": "(CUROFFLV) CurrentOff LV - A current measure has been detected in the low voltage side of the transformer while equipment is not running"},
                        {"shift": 0, "mask": 65535, "inValue": 39, "uri": "/faults/pcs:sys_fault", "outValue": "(CUROFFMV) CurrentOff MV - A current measure has been detected in the medium voltage side of the transformer while the equipment is not running"},
                        {"shift": 0, "mask": 65535, "inValue": 40, "uri": "/faults/pcs:sys_fault", "outValue": "(OVTMPACM) AC mod overtemperature"},
                        {"shift": 0, "mask": 65535, "inValue": 41, "uri": "/faults/pcs:sys_fault", "outValue": "(GFDI) GFDI fault - description unknown"},
                        {"shift": 0, "mask": 65535, "inValue": 42, "uri": "/faults/pcs:sys_fault", "outValue": "(DCCNTLCK) DC contactor locked"},
                        {"shift": 0, "mask": 65535, "inValue": 43, "uri": "/faults/pcs:sys_fault", "outValue": "(EMRGSTP) Emergency stop - Stop pushbutton (at the main control cabinet door) has been pushed, or the DC disconnect switch is set to OFF"},
                        {"shift": 0, "mask": 65535, "inValue": 44, "uri": "/faults/pcs:sys_fault", "outValue": "(DRVSLT_2) Drive select - Drive select parameters out of range"},
                        {"shift": 0, "mask": 65535, "inValue": 45, "uri": "/faults/pcs:sys_fault", "outValue": "(INSL) Insulation - Isolation monitor measures an impedance value lower than the one configured"},
                        {"shift": 0, "mask": 65535, "inValue": 46, "uri": "/faults/pcs:sys_fault", "outValue": "(DTFLT) Data fault - Out-of-range parameters detected"},
                        {"shift": 0, "mask": 65535, "inValue": 47, "uri": "/faults/pcs:sys_fault", "outValue": "(WTCHDG) Watchdog uP - Fault in microcontroller"},
                        {"shift": 0, "mask": 65535, "inValue": 48, "uri": "/faults/pcs:sys_fault", "outValue": "(INTCMS) Internal comms"},
                        {"shift": 0, "mask": 65535, "inValue": 49, "uri": "/faults/pcs:sys_fault", "outValue": "(IMISLFT) IMI autotest - Periodic insulation monitoring devices auto test has finished with errors"},
                        {"shift": 0, "mask": 65535, "inValue": 50, "uri": "/faults/pcs:sys_fault", "outValue": "(NODUCNL) No DU channels - All DU channels have been isolated, and it is not possible to establish a connection with the plant"},
                        {"shift": 0, "mask": 65535, "inValue": 51, "uri": "/faults/pcs:sys_fault", "outValue": "(PPCC) PPC comms - PPC and inverter communication problem"},
                        {"shift": 0, "mask": 65535, "inValue": 52, "uri": "/faults/pcs:sys_fault", "outValue": "(SCDUFB) Softcharge DU feedback - Softcharge timeout has expired and no feedback was received (DU softcharge contactors ordered to close, but did not)"},
                        {"shift": 0, "mask": 65535, "inValue": 53, "uri": "/faults/pcs:sys_fault", "outValue": "(EARTHL) GFDI current leak - GFDI current has exceeded the threshold"},
                        {"shift": 0, "mask": 65535, "inValue": 54, "uri": "/faults/pcs:sys_fault", "outValue": "(DUCNOV) DU channel overcurrent"},
                        {"shift": 0, "mask": 65535, "inValue": 55, "uri": "/faults/pcs:sys_fault", "outValue": "(EXT_OVGR) External fault/OVFR - Problem with external protections associated with DI6. External OVGR relay has tripped"},
                        {"shift": 0, "mask": 65535, "inValue": 56, "uri": "/faults/pcs:sys_fault", "outValue": "(REMRSTP) Remote emergency stop"},
                        {"shift": 0, "mask": 65535, "inValue": 57, "uri": "/faults/pcs:sys_fault", "outValue": "(DUMWR) DU channel miswired - Command to close DU has been received, but one or more channels are measuring negative voltage"},
                        {"shift": 0, "mask": 65535, "inValue": 58, "uri": "/faults/pcs:sys_fault", "outValue": "(SWCMM) Control SW mismatch - Microcontroller and DSP software versions not compatible"},
                        {"shift": 0, "mask": 65535, "inValue": 59, "uri": "/faults/pcs:sys_fault", "outValue": "(MODSWI) Module SW mismatch - Not all modules have the same software version"},
                        {"shift": 0, "mask": 65535, "inValue": 60, "uri": "/faults/pcs:sys_fault", "outValue": "(MODHWI) Module HW mismatch - Not all modules have the same electronic board revision"},
                        {"shift": 0, "mask": 65535, "inValue": 61, "uri": "/faults/pcs:sys_fault", "outValue": "(DUSD) DU smoke detector - DU smoke detector activated"},
                        {"shift": 0, "mask": 65535, "inValue": 62, "uri": "/faults/pcs:sys_fault", "outValue": "(DUCOM_F) DU comms - Communication between DU and central control lost"},
                        {"shift": 0, "mask": 65535, "inValue": 63, "uri": "/faults/pcs:sys_fault", "outValue": "(GRNDCN) Ground connection - Ground contactor closed, but the insulator detector detects that pole is isolated"},
                        {"shift": 0, "mask": 65535, "inValue": 64, "uri": "/faults/pcs:sys_fault", "outValue": "(INVMAC) Invalid MAC address"},
                        {"shift": 0, "mask": 65535, "inValue": 100, "uri": "/faults/pcs:sys_fault", "outValue": "(DCOMS_F) Display comms - Communications between display and control board lost"},
                        {"shift": 0, "mask": 65535, "inValue": 140, "uri": "/faults/pcs:sys_fault", "outValue": "(INDTHR) Inductance thermal - Feedback not received from the LCL filter inductance thermal"},
                        {"shift": 0, "mask": 65535, "inValue": 141, "uri": "/faults/pcs:sys_fault", "outValue": "(MVTT) MV transformer temperature - Temperature in medium voltage transformer (PT100 readings) too high"},
                        {"shift": 0, "mask": 65535, "inValue": 142, "uri": "/faults/pcs:sys_fault", "outValue": "(AFLV) Air flow LV - Air flow temperature in the low voltage side is too high"},
                        {"shift": 0, "mask": 65535, "inValue": 143, "uri": "/faults/pcs:sys_fault", "outValue": "(AFMV) Air flow MV - Air flow temperature in the medium voltage side is too high"},
                        {"shift": 0, "mask": 65535, "inValue": 144, "uri": "/faults/pcs:sys_fault", "outValue": "(FNIMER_F) Impulsion fans - One of the impulsion fans (cyclone) has reported an error"},
                        {"shift": 0, "mask": 65535, "inValue": 145, "uri": "/faults/pcs:sys_fault", "outValue": "(FNXCER_F) Extract fans control - Feedback from low voltage extraction fans not received"},
                        {"shift": 0, "mask": 65535, "inValue": 146, "uri": "/faults/pcs:sys_fault", "outValue": "(FNXMER_F) Extract fans MV - Feedback from medium voltage extraction fans not received"},
                        {"shift": 0, "mask": 65535, "inValue": 147, "uri": "/faults/pcs:sys_fault", "outValue": "(FNIMCM_F) Impulsion comms - Communication with impulsion fans (cyclone) cannot be established"},
                        {"shift": 0, "mask": 65535, "inValue": 148, "uri": "/faults/pcs:sys_fault", "outValue": "(MVTTC) MV critical temperature trans - The temperature threshold of medium voltage transformer has been overcome"},
                        {"shift": 0, "mask": 65535, "inValue": 150, "uri": "/faults/pcs:sys_fault", "outValue": "(CPMVO) MV cell protection open - Protection contractor of medium voltage cell is open"},
                        {"shift": 0, "mask": 65535, "inValue": 151, "uri": "/faults/pcs:sys_fault", "outValue": "(SDMV) Smoke detector MV - Medium voltage smoke detector activated"},
                        {"shift": 0, "mask": 65535, "inValue": 155, "uri": "/faults/pcs:sys_fault", "outValue": "(PRDID) Product ID invalid"},
                        {"shift": 0, "mask": 65535, "inValue": 181, "uri": "/faults/pcs:sys_fault", "outValue": "(HOMDIFMV) Hom Diff MV - A zero-sequence current (earth leakage) has been detected on medium voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 182, "uri": "/faults/pcs:sys_fault", "outValue": "(CRBALVMV) Curr Bal LVMV - A current unbalance has been detected between low and medium voltage sides (measures do not match"},
                        {"shift": 0, "mask": 65535, "inValue": 183, "uri": "/faults/pcs:sys_fault", "outValue": "(NEGPWLV) Neg Pow LV - Active power in the low voltage side of the transformer has overcome the threshold set during the time adjusted"},
                        {"shift": 0, "mask": 65535, "inValue": 184, "uri": "/faults/pcs:sys_fault", "outValue": "(NEGPWMV) Neg Pow MV"},
                        {"shift": 0, "mask": 65535, "inValue": 185, "uri": "/faults/pcs:sys_fault", "outValue": "(CRUNBALV) Cur Unbl LV - Unbalance threshold between phases in low voltage side has been overcome. Grid event occurs, voltage unbalance causes current unbalance"},
                        {"shift": 0, "mask": 65535, "inValue": 186, "uri": "/faults/pcs:sys_fault", "outValue": "(CRUNBAMV) Cur Unbl MV - Unbalance threshold between phases in medium voltage side has been overcome. Grid event occurs, voltage unbalance causes current unbalance"},
                        {"shift": 0, "mask": 65535, "inValue": 187, "uri": "/faults/pcs:sys_fault", "outValue": "(CRBLDSPMD) Cur Bal DSPMD - Current measurement made by central control does not match sum of measurements of all modules"},
                        {"shift": 0, "mask": 65535, "inValue": 188, "uri": "/faults/pcs:sys_fault", "outValue": "(PWBALLVMV) Pow Bal LVMV"},
                        {"shift": 0, "mask": 65535, "inValue": 189, "uri": "/faults/pcs:sys_fault", "outValue": "(THDIMV) THDi MV - The threshold of harmonic distortion (THDi) has been overcome during the timeout set internally"},
                        {"shift": 0, "mask": 65535, "inValue": 190, "uri": "/faults/pcs:sys_fault", "outValue": "(CPVF) Comb prot Volt Frq - One of the protection thresholds has been overcome"},
                        {"shift": 0, "mask": 65535, "inValue": 191, "uri": "/faults/pcs:sys_fault", "outValue": "(CLBV) Crit Low Vdc Batt - Voltage in any of the buses is too low and DU is closed"},
                        {"shift": 0, "mask": 65535, "inValue": 300, "uri": "/faults/pcs:sys_fault", "outValue": "(IEMB) Unbalance Bank - Difference between each input busbar voltage is higher than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 350, "uri": "/faults/pcs:sys_fault", "outValue": "(NOBNK) No Banks Enabled - No battery banks have been enabled. There is a mistake in the setting, or there is a fault in all the banks"},
                        {"shift": 0, "mask": 65535, "inValue": 368, "uri": "/faults/pcs:sys_fault", "outValue": "(HVACCOMMS) Timeout communication fault with the HVAC control unit"},
                        {"shift": 0, "mask": 65535, "inValue": 369, "uri": "/faults/pcs:sys_fault", "outValue": "(HVACNOP_F) Two or more HVAC units are not operational, and the battery container cooling is not guranteed"},
                        {"shift": 0, "mask": 65535, "inValue": 370, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCCOMMS) Enclosure Comms - TCP Modbus communication timeout failure with the device"},
                        {"shift": 0, "mask": 65535, "inValue": 371, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCTEMPH) Temperature in some of the enclosure sensors or the average temperature higher than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 372, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCDIG) Enclosure Digital - Emergency stop press-button on battery enclosure has been pushed"},
                        {"shift": 0, "mask": 65535, "inValue": 373, "uri": "/faults/pcs:sys_fault", "outValue": "(ENC24VDC) Enclosure 24VDC - Voltage is out of range or the UPS is offline. 24V voltage is out of range when it is out of 3% (21-29V)"},
                        {"shift": 0, "mask": 65535, "inValue": 374, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCPREDIS) Enclosure system is in gas pre-discharge mode"},
                        {"shift": 0, "mask": 65535, "inValue": 375, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCAGREL) Enclosure Agent Release - System has acted"},
                        {"shift": 0, "mask": 65535, "inValue": 376, "uri": "/faults/pcs:sys_fault", "outValue": "(ENCTEMPL) Enclosure Temp Low - Average temperature in the enclosure is lower than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 390, "uri": "/faults/pcs:sys_fault", "outValue": "(TRCOMMS) Communication timeout failure with medium voltage transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 391, "uri": "/faults/pcs:sys_fault", "outValue": "(TRTEMP_F) Transformer over oil temperature alarm has been activated"},
                        {"shift": 0, "mask": 65535, "inValue": 392, "uri": "/faults/pcs:sys_fault", "outValue": "(TRPRESU_F) Transformer over pressure alarm has been activated"},
                        {"shift": 0, "mask": 65535, "inValue": 393, "uri": "/faults/pcs:sys_fault", "outValue": "(TROIL_F) Transformer oil low level alarm has been activated"},

                        {"shift": 0, "mask": 65535, "inValue": 1, "uri": "/site/ess_ls:pcs1_faults1[0]", "outValue": true, "note": "(WD) Watchdog - Fault in DSP has occurred"},
                        {"shift": 0, "mask": 65535, "inValue": 2, "uri": "/site/ess_ls:pcs1_faults1[1]", "outValue": true, "note": "(HWVBS) HW Vbus - DC overvoltage detected. Threshold: 1520 Vdc"},
                        {"shift": 0, "mask": 65535, "inValue": 3, "uri": "/site/ess_ls:pcs1_faults1[2]", "outValue": true, "note": "(SFTCHR) Softcharge - Wrong configuration (central AC without DU) OR Timeout, one of soft charge processes did not end successfully"},
                        {"shift": 0, "mask": 65535, "inValue": 4, "uri": "/site/ess_ls:pcs1_faults1[3]", "outValue": true, "note": "(DISCHR) Discharge - Timeout, one of the modules has not discharged correctly (< 50 Vdc)"},
                        {"shift": 0, "mask": 65535, "inValue": 5, "uri": "/site/ess_ls:pcs1_faults1[4]", "outValue": true, "note": "(HGHVAC) High Vac - High AC voltage fault"},
                        {"shift": 0, "mask": 65535, "inValue": 6, "uri": "/site/ess_ls:pcs1_faults1[5]", "outValue": true, "note": "(LWVAC) Low Vac - Low AC voltage fault"},
                        {"shift": 0, "mask": 65535, "inValue": 7, "uri": "/site/ess_ls:pcs1_faults1[6]", "outValue": true, "note": "(HGHFRE) High frequency fault"},
                        {"shift": 0, "mask": 65535, "inValue": 8, "uri": "/site/ess_ls:pcs1_faults1[7]", "outValue": true, "note": "(LWFRE) Low frequency fault"},
                        {"shift": 0, "mask": 65535, "inValue": 9, "uri": "/site/ess_ls:pcs1_faults1[8]", "outValue": true, "note": "(FPGACMS) FPGA comms - 2 frames to the central FPGA are wrong"},
                        {"shift": 0, "mask": 65535, "inValue": 10, "uri": "/site/ess_ls:pcs1_faults1[9]", "outValue": true, "note": "(MSTFPGA) Master FPGA - Central FPGA has not been configured correctly. Check that the 3 joined leds are turned on"},
                        {"shift": 0, "mask": 65535, "inValue": 11, "uri": "/site/ess_ls:pcs1_faults1[10]", "outValue": true, "note": "(ACANTISL) Active anti-island - Fault produced by a variation in the measured frequency"},
                        {"shift": 0, "mask": 65535, "inValue": 13, "uri": "/site/ess_ls:pcs1_faults1[11]", "outValue": true, "note": "(NOMOD) No modules enabled in the enabled busbars"},
                        {"shift": 0, "mask": 65535, "inValue": 14, "uri": "/site/ess_ls:pcs1_faults1[12]", "outValue": true, "note": "(DRVSLT_1) Drive select - Wrong drive select configuration"},
                        {"shift": 0, "mask": 65535, "inValue": 15, "uri": "/site/ess_ls:pcs1_faults1[13]", "outValue": true, "note": "(SYNC) Synchronization - Wrong equipment configuration"},
                        {"shift": 0, "mask": 65535, "inValue": 16, "uri": "/site/ess_ls:pcs1_faults1[14]", "outValue": true, "note": "(DCMSW) DC miswired - There is a problem with the DC measurement from central control. It occurs when the bus voltage < 100V during 30s"},
                        {"shift": 0, "mask": 65535, "inValue": 17, "uri": "/site/ess_ls:pcs1_faults1[15]", "outValue": true, "note": "(DUFB) DU feedback - The DU is not closing when required"},
                        {"shift": 0, "mask": 65535, "inValue": 18, "uri": "/site/ess_ls:pcs1_faults1[16]", "outValue": true, "note": "(ACSCFB) ACSC feedback - Feedback from the soft charge contactor does not match the order during 5s"},
                        {"shift": 0, "mask": 65535, "inValue": 19, "uri": "/site/ess_ls:pcs1_faults1[17]", "outValue": true, "note": "(ACSCNV) ACSC no voltage - The central soft charge contactor is closed, but buses are not changing at the expected rate (50% of the target value in 4s)"},
                        {"shift": 0, "mask": 65535, "inValue": 20, "uri": "/site/ess_ls:pcs1_faults1[18]", "outValue": true, "note": "(MODFLT) Module fault"},
                        {"shift": 0, "mask": 65535, "inValue": 21, "uri": "/site/ess_ls:pcs1_faults1[19]", "outValue": true, "note": "(DUSTCK) DU stuck - Voltage during soft charge process is anomalous when the DU is open"},
                        {"shift": 0, "mask": 65535, "inValue": 22, "uri": "/site/ess_ls:pcs1_faults1[20]", "outValue": true, "note": "(MVF) Medium V fuse - A medium voltage fuse has been blown"},
                        {"shift": 0, "mask": 65535, "inValue": 23, "uri": "/site/ess_ls:pcs1_faults1[21]", "outValue": true, "note": "(UNBVAC) Unbalanced Vac - Abnormal AC unbalanced voltage"},
                        {"shift": 0, "mask": 65535, "inValue": 24, "uri": "/site/ess_ls:pcs1_faults1[22]", "outValue": true, "note": "(HVDC_F) High Vdc - Overvoltage in the DC bus"},
                        {"shift": 0, "mask": 65535, "inValue": 25, "uri": "/site/ess_ls:pcs1_faults1[23]", "outValue": true, "note": "(LVDC_F) Low Vdc - Voltage is too low"},
                        {"shift": 0, "mask": 65535, "inValue": 27, "uri": "/site/ess_ls:pcs1_faults1[24]", "outValue": true, "note": "(MSF) Modules start fault"},
                        {"shift": 0, "mask": 65535, "inValue": 28, "uri": "/site/ess_ls:pcs1_faults1[25]", "outValue": true, "note": "(PSANTISL) Passive anti-island - Fault produced when the frequency changes abruptly in a certain time"},
                        {"shift": 0, "mask": 65535, "inValue": 29, "uri": "/site/ess_ls:pcs1_faults1[26]", "outValue": true, "note": "(HWIDCDIF) HW Idc Dif - A current derivation has been detected on the panels side"},
                        {"shift": 0, "mask": 65535, "inValue": 30, "uri": "/site/ess_ls:pcs1_faults1[27]", "outValue": true, "note": "(MVCMS) MV comms - Failure in communication with the medium voltage measure board"},
                        {"shift": 0, "mask": 65535, "inValue": 31, "uri": "/site/ess_ls:pcs1_faults1[28]", "outValue": true, "note": "(DIAGTIM) Selfdiagnosis Fault - Triggered while performing auto diagnosis process, e.g.: there is no DU or the bus loading time is excessive"},
                        {"shift": 0, "mask": 65535, "inValue": 32, "uri": "/site/ess_ls:pcs1_faults1[29]", "outValue": true, "note": "(ERMDDIAG) Error Mod Selfdiagnosis - Triggered while performing auto diagnosis process after the equipment has stopped due to special protection"},
                        {"shift": 0, "mask": 65535, "inValue": 33, "uri": "/site/ess_ls:pcs1_faults1[30]", "outValue": true, "note": "(UNREC) Unable Reconnect - Inverter could not restart after the last grid event"},
                        {"shift": 0, "mask": 65535, "inValue": 34, "uri": "/site/ess_ls:pcs1_faults1[31]", "outValue": true, "note": "(HOMDIFLV) Hom Diff LV - A zero-sequence current (earth leakage) has been detected on the low voltage side of the transformer"},
                        
                        {"shift": 0, "mask": 65535, "inValue": 35, "uri": "/site/ess_ls:pcs1_faults2[0]", "outValue": true, "note": "(MVPRE) MV Premag - There was a problem during MV transformer premagnetization"},
                        {"shift": 0, "mask": 65535, "inValue": 36, "uri": "/site/ess_ls:pcs1_faults2[1]", "outValue": true, "note": "(OVOLIRLV) Ovc Inrush LV - One of the current thresholds (overload, overcurrent, or inrush) has been overcome in the low voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 37, "uri": "/site/ess_ls:pcs1_faults2[2]", "outValue": true, "note": "(OVOLIRMV) Ovc Inrush MV - One of the current thresholds (overload, overcurrent, or inrush) has been overcome in the medium voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 38, "uri": "/site/ess_ls:pcs1_faults2[3]", "outValue": true, "note": "(CUROFFLV) CurrentOff LV - A current measure has been detected in the low voltage side of the transformer while equipment is not running"},
                        {"shift": 0, "mask": 65535, "inValue": 39, "uri": "/site/ess_ls:pcs1_faults2[4]", "outValue": true, "note": "(CUROFFMV) CurrentOff MV - A current measure has been detected in the medium voltage side of the transformer while the equipment is not running"},
                        {"shift": 0, "mask": 65535, "inValue": 40, "uri": "/site/ess_ls:pcs1_faults2[5]", "outValue": true, "note": "(OVTMPACM) AC mod overtemperature"},
                        {"shift": 0, "mask": 65535, "inValue": 41, "uri": "/site/ess_ls:pcs1_faults2[6]", "outValue": true, "note": "(GFDI) GFDI fault - description unknown"},
                        {"shift": 0, "mask": 65535, "inValue": 42, "uri": "/site/ess_ls:pcs1_faults2[7]", "outValue": true, "note": "(DCCNTLCK) DC contactor locked"},
                        {"shift": 0, "mask": 65535, "inValue": 43, "uri": "/site/ess_ls:pcs1_faults2[8]", "outValue": true, "note": "(EMRGSTP) Emergency stop - Stop pushbutton (at the main control cabinet door) has been pushed, or the DC disconnect switch is set to OFF"},
                        {"shift": 0, "mask": 65535, "inValue": 44, "uri": "/site/ess_ls:pcs1_faults2[9]", "outValue": true, "note": "(DRVSLT_2) Drive select - Drive select parameters out of range"},
                        {"shift": 0, "mask": 65535, "inValue": 45, "uri": "/site/ess_ls:pcs1_faults2[10]", "outValue": true, "note": "(INSL) Insulation - Isolation monitor measures an impedance value lower than the one configured"},
                        {"shift": 0, "mask": 65535, "inValue": 46, "uri": "/site/ess_ls:pcs1_faults2[11]", "outValue": true, "note": "(DTFLT) Data fault - Out-of-range parameters detected"},
                        {"shift": 0, "mask": 65535, "inValue": 47, "uri": "/site/ess_ls:pcs1_faults2[12]", "outValue": true, "note": "(WTCHDG) Watchdog uP - Fault in microcontroller"},
                        {"shift": 0, "mask": 65535, "inValue": 48, "uri": "/site/ess_ls:pcs1_faults2[13]", "outValue": true, "note": "(INTCMS) Internal comms"},
                        {"shift": 0, "mask": 65535, "inValue": 49, "uri": "/site/ess_ls:pcs1_faults2[14]", "outValue": true, "note": "(IMISLFT) IMI autotest - Periodic insulation monitoring devices auto test has finished with errors"},
                        {"shift": 0, "mask": 65535, "inValue": 50, "uri": "/site/ess_ls:pcs1_faults2[15]", "outValue": true, "note": "(NODUCNL) No DU channels - All DU channels have been isolated, and it is not possible to establish a connection with the plant"},
                        {"shift": 0, "mask": 65535, "inValue": 51, "uri": "/site/ess_ls:pcs1_faults2[16]", "outValue": true, "note": "(PPCC) PPC comms - PPC and inverter communication problem"},
                        {"shift": 0, "mask": 65535, "inValue": 52, "uri": "/site/ess_ls:pcs1_faults2[17]", "outValue": true, "note": "(SCDUFB) Softcharge DU feedback - Softcharge timeout has expired and no feedback was received (DU softcharge contactors ordered to close, but did not)"},
                        {"shift": 0, "mask": 65535, "inValue": 53, "uri": "/site/ess_ls:pcs1_faults2[18]", "outValue": true, "note": "(EARTHL) GFDI current leak - GFDI current has exceeded the threshold"},
                        {"shift": 0, "mask": 65535, "inValue": 54, "uri": "/site/ess_ls:pcs1_faults2[19]", "outValue": true, "note": "(DUCNOV) DU channel overcurrent"},
                        {"shift": 0, "mask": 65535, "inValue": 55, "uri": "/site/ess_ls:pcs1_faults2[20]", "outValue": true, "note": "(EXT_OVGR) External fault/OVFR - Problem with external protections associated with DI6. External OVGR relay has tripped"},
                        {"shift": 0, "mask": 65535, "inValue": 56, "uri": "/site/ess_ls:pcs1_faults2[21]", "outValue": true, "note": "(REMRSTP) Remote emergenency stop"},
                        {"shift": 0, "mask": 65535, "inValue": 57, "uri": "/site/ess_ls:pcs1_faults2[22]", "outValue": true, "note": "(DUMWR) DU channel miswired - Command to close DU has been received, but one or more channels are measuring negative voltage"},
                        {"shift": 0, "mask": 65535, "inValue": 58, "uri": "/site/ess_ls:pcs1_faults2[23]", "outValue": true, "note": "(SWCMM) Control SW mismatch - Microcontroller and DSP software versions not compatible"},
                        {"shift": 0, "mask": 65535, "inValue": 59, "uri": "/site/ess_ls:pcs1_faults2[24]", "outValue": true, "note": "(MODSWI) Module SW mismatch - Not all modules have the same software version"},
                        {"shift": 0, "mask": 65535, "inValue": 60, "uri": "/site/ess_ls:pcs1_faults2[25]", "outValue": true, "note": "(MODHWI) Module HW mismatch - Not all modules have the same electronic board revision"},
                        {"shift": 0, "mask": 65535, "inValue": 61, "uri": "/site/ess_ls:pcs1_faults2[26]", "outValue": true, "note": "(DUSD) DU smoke detector - DU smoke detector activated"},
                        {"shift": 0, "mask": 65535, "inValue": 62, "uri": "/site/ess_ls:pcs1_faults2[27]", "outValue": true, "note": "(DUCOM_F) DU comms - Communication between DU and central control lost"},
                        {"shift": 0, "mask": 65535, "inValue": 63, "uri": "/site/ess_ls:pcs1_faults2[28]", "outValue": true, "note": "(GRNDCN) Ground connection - Ground contactor closed, but the insulator detector detects that pole is isolated"},
                        {"shift": 0, "mask": 65535, "inValue": 64, "uri": "/site/ess_ls:pcs1_faults2[29]", "outValue": true, "note": "(INVMAC) Invalid MAC address"},
                        {"shift": 0, "mask": 65535, "inValue": 100, "uri": "/site/ess_ls:pcs1_faults2[30]", "outValue": true, "note": "(DCOMS_F) Display comms - Communications between display and control board lost"},

                        {"shift": 0, "mask": 65535, "inValue": 140, "uri": "/site/ess_ls:pcs1_faults3[0]", "outValue": true, "note": "(INDTHR) Inductance thermal - Feedback not received from the LCL filter inductance thermal"},
                        {"shift": 0, "mask": 65535, "inValue": 141, "uri": "/site/ess_ls:pcs1_faults3[1]", "outValue": true, "note": "(MVTT) MV transformer temperature - Temperature in medium voltage transformer (PT100 readings) too high"},
                        {"shift": 0, "mask": 65535, "inValue": 142, "uri": "/site/ess_ls:pcs1_faults3[2]", "outValue": true, "note": "(AFLV) Air flow LV - Air flow temperature in the low voltage side is too high"},
                        {"shift": 0, "mask": 65535, "inValue": 143, "uri": "/site/ess_ls:pcs1_faults3[3]", "outValue": true, "note": "(AFMV) Air flow MV - Air flow temperature in the medium voltage side is too high"},
                        {"shift": 0, "mask": 65535, "inValue": 144, "uri": "/site/ess_ls:pcs1_faults3[4]", "outValue": true, "note": "(FNIMER_F) Impulsion fans - One of the impulsion fans (cyclone) has reported an error"},
                        {"shift": 0, "mask": 65535, "inValue": 145, "uri": "/site/ess_ls:pcs1_faults3[5]", "outValue": true, "note": "(FNXCER_F) Extract fans control - Feedback from low voltage extraction fans not received"},
                        {"shift": 0, "mask": 65535, "inValue": 146, "uri": "/site/ess_ls:pcs1_faults3[6]", "outValue": true, "note": "(FNXMER_F) Extract fans MV - Feedback from medium voltage extraction fans not received"},
                        {"shift": 0, "mask": 65535, "inValue": 147, "uri": "/site/ess_ls:pcs1_faults3[7]", "outValue": true, "note": "(FNIMCM_F) Impulsion comms - Communication with impulsion fans (cyclone) cannot be established"},
                        {"shift": 0, "mask": 65535, "inValue": 148, "uri": "/site/ess_ls:pcs1_faults3[8]", "outValue": true, "note": "(MVTTC) MV critical temperature trans - The temperature threshold of medium voltage transformer has been overcome"},
                        {"shift": 0, "mask": 65535, "inValue": 150, "uri": "/site/ess_ls:pcs1_faults3[9]", "outValue": true, "note": "(CPMVO) MV cell protection open - Protection contractor of medium voltage cell is open"},
                        {"shift": 0, "mask": 65535, "inValue": 151, "uri": "/site/ess_ls:pcs1_faults3[10]", "outValue": true, "note": "(SDMV) Smoke detector MV - Medium voltage smoke detector activated"},
                        {"shift": 0, "mask": 65535, "inValue": 155, "uri": "/site/ess_ls:pcs1_faults3[11]", "outValue": true, "note": "(PRDID) Product ID invalid"},
                        {"shift": 0, "mask": 65535, "inValue": 181, "uri": "/site/ess_ls:pcs1_faults3[12]", "outValue": true, "note": "(HOMDIFMV) Hom Diff MV - A zero-sequence current (earth leakage) has been detected on medium voltage side of the transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 182, "uri": "/site/ess_ls:pcs1_faults3[13]", "outValue": true, "note": "(CRBALVMV) Curr Bal LVMV - A current unbalance has been detected between low and medium voltage sides (measures do not match"},
                        {"shift": 0, "mask": 65535, "inValue": 183, "uri": "/site/ess_ls:pcs1_faults3[14]", "outValue": true, "note": "(NEGPWLV) Neg Pow LV - Active power in the low voltage side of the transformer has overcome the threshold set during the time adjusted"},
                        {"shift": 0, "mask": 65535, "inValue": 184, "uri": "/site/ess_ls:pcs1_faults3[15]", "outValue": true, "note": "(NEGPWMV) Neg Pow MV"},
                        {"shift": 0, "mask": 65535, "inValue": 185, "uri": "/site/ess_ls:pcs1_faults3[16]", "outValue": true, "note": "(CRUNBALV) Cur Unbl LV - Unbalance threshold between phases in low voltage side has been overcome. Grid event occurs, voltage unbalance causes current unbalance"},
                        
                        {"shift": 0, "mask": 65535, "inValue": 186, "uri": "/site/ess_ls:pcs1_faults4[0]", "outValue": true, "note": "(CRUNBAMV) Cur Unbl MV - Unbalance threshold between phases in medium voltage side has been overcome. Grid event occurs, voltage unbalance causes current unbalance"},
                        {"shift": 0, "mask": 65535, "inValue": 187, "uri": "/site/ess_ls:pcs1_faults4[1]", "outValue": true, "note": "(CRBLDSPMD) Cur Bal DSPMD - Current measurement made by central control does not match sum of measurements of all modules"},
                        {"shift": 0, "mask": 65535, "inValue": 188, "uri": "/site/ess_ls:pcs1_faults4[2]", "outValue": true, "note": "(PWBALLVMV) Pow Bal LVMV"},
                        {"shift": 0, "mask": 65535, "inValue": 189, "uri": "/site/ess_ls:pcs1_faults4[3]", "outValue": true, "note": "(THDIMV) THDi MV - The threshold of harmonic distortion (THDi) has been overcome during the timeout set internally"},
                        {"shift": 0, "mask": 65535, "inValue": 190, "uri": "/site/ess_ls:pcs1_faults4[4]", "outValue": true, "note": "(CPVF) Comb prot Volt Frq - One of the protection thresholds has been overcome"},
                        {"shift": 0, "mask": 65535, "inValue": 191, "uri": "/site/ess_ls:pcs1_faults4[5]", "outValue": true, "note": "(CLBV) Crit Low Vdc Batt - Voltage in any of the buses is too low and DU is closed"},
                        {"shift": 0, "mask": 65535, "inValue": 300, "uri": "/site/ess_ls:pcs1_faults4[6]", "outValue": true, "note": "(IEMB) Unbalance Bank - Difference between each input busbar voltage is higher than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 350, "uri": "/site/ess_ls:pcs1_faults4[7]", "outValue": true, "note": "(NOBNK) No Banks Enabled - No battery banks have been enabled. There is a mistake in the setting, or there is a fault in all the banks"},
                        {"shift": 0, "mask": 65535, "inValue": 368, "uri": "/site/ess_ls:pcs1_faults4[8]", "outValue": true, "note": "(HVACCOMMS) Timeout communication fault with the HVAC control unit"},
                        {"shift": 0, "mask": 65535, "inValue": 369, "uri": "/site/ess_ls:pcs1_faults4[9]", "outValue": true, "note": "(HVACNOP_F) Two or more HVAC units are not operational, and the battery container cooling is not guranteed"},
                        {"shift": 0, "mask": 65535, "inValue": 370, "uri": "/site/ess_ls:pcs1_faults4[10]", "outValue": true, "note": "(ENCCOMMS) Enclosure Comms - TCP Modbus communication timeout failure with the device"},
                        {"shift": 0, "mask": 65535, "inValue": 371, "uri": "/site/ess_ls:pcs1_faults4[11]", "outValue": true, "note": "(ENCTEMPH) Temperature in some of the enclosure sensors or the average temperature higher than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 372, "uri": "/site/ess_ls:pcs1_faults4[12]", "outValue": true, "note": "(ENCDIG) Enclosure Digital - Emergency stop press-button on battery enclosure has been pushed"},
                        {"shift": 0, "mask": 65535, "inValue": 373, "uri": "/site/ess_ls:pcs1_faults4[13]", "outValue": true, "note": "(ENC24VDC) Enclosure 24VDC - Voltage is out of range or the UPS is offline. 24V voltage is out of range when it is out of 3% (21-29V)"},
                        {"shift": 0, "mask": 65535, "inValue": 374, "uri": "/site/ess_ls:pcs1_faults4[14]", "outValue": true, "note": "(ENCPREDIS) Enclosure system is in gas pre-discharge mode"},
                        {"shift": 0, "mask": 65535, "inValue": 375, "uri": "/site/ess_ls:pcs1_faults4[15]", "outValue": true, "note": "(ENCAGREL) Enclosure Agent Release - System has acted"},
                        {"shift": 0, "mask": 65535, "inValue": 376, "uri": "/site/ess_ls:pcs1_faults4[16]", "outValue": true, "note": "(ENCTEMPL) Enclosure Temp Low - Average temperature in the enclosure is lower than expected"},
                        {"shift": 0, "mask": 65535, "inValue": 390, "uri": "/site/ess_ls:pcs1_faults4[17]", "outValue": true, "note": "(TRCOMMS) Communication timeout failure with medium voltage transformer"},
                        {"shift": 0, "mask": 65535, "inValue": 391, "uri": "/site/ess_ls:pcs1_faults4[18]", "outValue": true, "note": "(TRTEMP_F) Transformer over oil temperature alarm has been activated"},
                        {"shift": 0, "mask": 65535, "inValue": 392, "uri": "/site/ess_ls:pcs1_faults4[19]", "outValue": true, "note": "(TRPRESU_F) Transformer over pressure alarm has been activated"},
                        {"shift": 0, "mask": 65535, "inValue": 393, "uri": "/site/ess_ls:pcs1_faults4[20]", "outValue": true, "note": "(TROIL_F) Transformer oil low level alarm has been activated"}
                    ]
                }]
            }
        }
    },
    "/faults/pcs": {
        "note": "Leave as is for now. This definition is needed for clear faults UI cmd to work",
        "clear_faults": {
            "value": 0,
            "type": "fault",
            "numVars": 4,
            "variable1": "vdc_bus_1",
            "variable2": "seconds",
            "variable3": "num_running_modules",
            "variable4": "active_power",
            "actions": {
                "onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]
            }
        },
        "sys_fault":      {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_1_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_2_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_3_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_4_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_5_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},
        "module_6_fault": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}},

        "MonitorVarFault": {
            "value": "(NOFLTS) No faults",
            "actions":	{
                "onSet":	[{
                    "remap":	[
                        {"inValue":"seconds_state",                 "amap": "pcs", "uri":	"/faults/pcs:pcs_heartbeat", "outValue": "PCS Communication Failure"},

                        {"inValue":"vdc_bus_1_limit_min",           "amap": "pcs", "uri":	"/site/ess_ls:ess_faults[8]", "outValue": "PCS DC Voltage Threshold Exceeded"},
                        {"inValue":"num_running_modules_limit_min", "amap": "pcs", "uri":	"/site/ess_ls:ess_faults[9]", "outValue": "Number of PCS Modules Below Threshold"},
                        {"inValue":"active_power_limit_max",        "amap": "pcs", "uri":	"/site/ess_ls:ess_faults[10]", "outValue": "PCS Active Power Threshold Exceeded"}
                    ]
                }]
            }
        },
        "pcs_heartbeat": {"value": "(NOFLTS) No faults","type": "fault","actions": {"onSet": [{"func": [{"func": "process_sys_alarm", "amap": "pcs"}]}]}}
    }
}